<!DOCTYPE html>
<html lang="en" data-character="ironman">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Marvel Rivals Overlay v2</title>
    <!-- React + ReactDOM + Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <style>
        /*────────────────────────
      Theming
    ────────────────────────*/
        :root {
            --primary-color: #e62429;
            --secondary-color: #f5c542;
        }

        html[data-character="ironman"] {
            --primary-color: #e62429;
            --secondary-color: #f5c542;
        }

        html[data-character="spiderman"] {
            --primary-color: #e23f31;
            --secondary-color: #000;
        }

        /*────────────────────────
      Base
    ────────────────────────*/
        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: transparent;
            font-family: sans-serif;
            color: white;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
        }

        /*────────────────────────
      Crosshair
    ────────────────────────*/
        .crosshair {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 40px;
            border: 3px solid var(--primary-color);
            border-radius: 50%;
            box-shadow: 0 0 8px var(--primary-color);
            transform: translate(-50%, -50%);
            transition: opacity 0.3s ease;
            opacity: 1;
        }

        .crosshair.transparent {
            opacity: 0.2;
        }

        .crosshair.healthy {
            border-color: limegreen;
            box-shadow: 0 0 8px limegreen;
        }

        .crosshair.wounded {
            border-color: gold;
            box-shadow: 0 0 8px gold;
        }

        .crosshair.alert {
            border-color: orange;
            box-shadow: 0 0 10px orange;
        }

        .crosshair.critical {
            border-color: red;
            box-shadow: 0 0 12px red;
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
            }

            50% {
                transform: translate(-50%, -50%) scale(1.15);
            }

            100% {
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /*────────────────────────
      Health warnings
    ────────────────────────*/
        .health-warning {
            position: absolute;
            top: calc(50% - 70px);
            left: 50%;
            transform: translateX(-50%);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            pointer-events: none;
            font-size: 14px;
        }

        .health-warning.warn {
            background: rgba(255, 165, 0, 0.8);
            color: #000;
        }

        .health-warning.alert {
            background: rgba(255, 69, 0, 0.8);
            color: #fff;
        }

        .health-warning.critical {
            background: rgba(255, 0, 0, 0.9);
            color: #fff;
            font-size: 16px;
        }

        /*────────────────────────
      Speed readout
    ────────────────────────*/
        .speed {
            position: absolute;
            top: calc(50% + 30px);
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            text-shadow: 0 0 4px rgba(0, 0, 0, 0.7);
            pointer-events: none;
        }

        /*────────────────────────
      Minimap (no bg)
    ────────────────────────*/
        .minimap {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 180px;
            height: 180px;
            transform: translate(-50%, -50%);
            border: 2px solid var(--secondary-color);
            border-radius: 50%;
            pointer-events: none;
        }

        .minimap .unit {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .minimap .friend {
            background: #00aaff;
        }

        .minimap .enemy {
            background: #ff0055;
        }

        /*────────────────────────
      Unit lists
    ────────────────────────*/
        ul.unit-list {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            list-style: none;
            margin: 0;
            padding: 0;
            pointer-events: none;
        }

        ul.friend-list {
            left: calc(50% - 220px);
        }

        ul.enemy-list {
            left: calc(50% + 20px);
        }

        ul.unit-list li {
            margin: 6px 0;
            padding: 4px 8px;
            border: 2px solid;
            border-radius: 4px;
            min-width: 160px;
            display: flex;
            justify-content: space-between;
            font-size: 13px;
        }

        ul.friend-list li {
            border-color: #00aaff;
        }

        ul.enemy-list li {
            border-color: #ff0055;
        }

        .dead {
            opacity: 0.5;
        }

        /*────────────────────────
      Ability bar
    ────────────────────────*/
        .ability-bar {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            pointer-events: none;
        }

        .ability {
            position: relative;
            width: 40px;
            height: 40px;
            border: 2px solid var(--secondary-color);
            border-radius: 4px;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ability .cd-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        /*────────────────────────
      Testing controls
    ────────────────────────*/
        .testing-panel {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            pointer-events: auto;
            font-size: 13px;
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .testing-panel button {
            padding: 6px 10px;
            border: 1px solid #888;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            cursor: pointer;
        }

        .testing-panel input[type="range"] {
            width: 160px;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function Overlay() {
            // health & speed
            const [health, setHealth] = useState(100);
            const [speed] = useState(0);

            // fade on mousemove
            const [transparent, setTransparent] = useState(false);
            useEffect(() => {
                let to;
                const onMove = () => {
                    setTransparent(true);
                    clearTimeout(to);
                    to = setTimeout(() => setTransparent(false), 400);
                };
                window.addEventListener('mousemove', onMove);
                return () => window.removeEventListener('mousemove', onMove);
            }, []);

            // unit positions
            const friends = [
                { id: 'F1', x: -30, y: 20 }, { id: 'F2', x: 50, y: -40 }
            ];
            const enemies = [
                { id: 'E1', x: 60, y: 30 }, { id: 'E2', x: -70, y: -50 }
            ];
            const teamStatus = [
                { id: 'F1', alive: true, respawn: 0 },
                { id: 'F2', alive: false, respawn: 12 }
            ];
            const enemyStatus = [
                { id: 'E1', alive: true, respawn: 0 },
                { id: 'E2', alive: false, respawn: 8 }
            ];

            // abilities state + timer loop
            const initialCd = { A: 0, B: 0 };
            const [cds, setCds] = useState(initialCd);
            useEffect(() => {
                const timer = setInterval(() => {
                    setCds(prev => {
                        const next = { ...prev };
                        Object.keys(next).forEach(k => {
                            if (next[k] > 0) next[k] = Math.max(0, next[k] - 1);
                        });
                        return next;
                    });
                }, 1000);
                return () => clearInterval(timer);
            }, []);

            // health class + warning
            const healthClass =
                health > 75 ? 'healthy'
                    : health > 50 ? 'wounded'
                        : health > 25 ? 'alert'
                            : 'critical';

            const warning =
                health <= 25 ? ['CRITICAL HEALTH!', 'critical']
                    : health <= 50 ? ['ALERT: Low Health', 'alert']
                        : health <= 75 ? ['Warning: Injured', 'warn']
                            : null;

            return (
                <div className="overlay">
                    {/* Abilities */}
                    <div className="ability-bar">
                        {['A', 'B'].map(key => (
                            <div key={key} className="ability">
                                {key}
                                {cds[key] > 0 && (
                                    <div className="cd-overlay">
                                        {cds[key]}s
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>

                    {/* Crosshair */}
                    <div className={`crosshair ${transparent ? 'transparent' : ''} ${healthClass}`} />

                    {/* Health warning */}
                    {warning && (
                        <div className={`health-warning ${warning[1]}`}>
                            {warning[0]}
                        </div>
                    )}

                    {/* Speed */}
                    <div className="speed">
                        Speed: {speed} m/s
                    </div>

                    {/* Minimap */}
                    <div className="minimap">
                        {friends.map(f => (
                            <div
                                key={f.id}
                                className="unit friend"
                                style={{
                                    left: `calc(50% + ${f.x}px)`,
                                    top: `calc(50% + ${f.y}px)`
                                }}
                                title={f.id}
                            />
                        ))}
                        {enemies.map(e => (
                            <div
                                key={e.id}
                                className="unit enemy"
                                style={{
                                    left: `calc(50% + ${e.x}px)`,
                                    top: `calc(50% + ${e.y}px)`
                                }}
                                title={e.id}
                            />
                        ))}
                    </div>

                    {/* Friend list */}
                    <ul className="unit-list friend-list">
                        {teamStatus.map(p => (
                            <li key={p.id}>
                                <span>{p.id}</span>
                                <span className={p.alive ? '' : 'dead'}>
                                    {p.alive ? 'Alive' : `Respawn ${p.respawn}s`}
                                </span>
                            </li>
                        ))}
                    </ul>

                    {/* Enemy list */}
                    <ul className="unit-list enemy-list">
                        {enemyStatus.map(p => (
                            <li key={p.id}>
                                <span>{p.id}</span>
                                <span className={p.alive ? '' : 'dead'}>
                                    {p.alive ? 'Alive' : `Respawn ${p.respawn}s`}
                                </span>
                            </li>
                        ))}
                    </ul>

                    {/* Testing panel */}
                    <div className="testing-panel">
                        <label>Health {health}%</label>
                        <input
                            type="range" min="0" max="100"
                            value={health}
                            onChange={e => setHealth(+e.target.value)}
                        />

                        <button onClick={() => setCds(prev => ({ ...prev, A: 10 }))}>
                            Trigger A
                        </button>
                        <button onClick={() => setCds(prev => ({ ...prev, B: 8 }))}>
                            Trigger B
                        </button>
                    </div>
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root'))
            .render(<Overlay />);
    </script>
</body>

</html>